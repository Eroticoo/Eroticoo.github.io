<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>{{ page.title }} - {{ site.title }}</title>
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
        
        // 直接处理时间显示
        window.onload = function() {
            const timeElements = document.querySelectorAll('.post-time');
            timeElements.forEach(element => {
                const originalTime = element.getAttribute('data-time');
                if (originalTime) {
                    const date = new Date(originalTime);
                    // 直接获取本地时间字符串
                    const localTime = date.toLocaleString('zh-CN', {
                        year: 'numeric',
                        month: '2-digit',
                        day: '2-digit',
                        hour: '2-digit',
                        minute: '2-digit',
                        second: '2-digit',
                        hour12: false,
                        timeZone: 'Asia/Shanghai'
                    });
                    element.textContent = '发布时间：' + localTime + ' +0800';
                }
            });
        }
    </script>
</head>
<body>
    <header>
        <h1><a href="{{ '/' | relative_url }}">{{ site.title }}</a></h1>
    </header>
    <main>
        {{ content }}
        {% if page.date %}
        <p class="post-time" data-time="{{ page.date | date_to_rfc822 }}">
            发布时间：{{ page.date | date: "%Y-%m-%d %H:%M:%S %z" }}
        </p>
        {% endif %}
    </main>
    <footer>
        <p>© {{ site.time | date: '%Y' }} {{ site.author }}</p>
    </footer>
</body>
</html>